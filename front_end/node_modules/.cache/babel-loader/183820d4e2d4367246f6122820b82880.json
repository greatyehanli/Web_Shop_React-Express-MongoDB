{"ast":null,"code":"import * as constants from '../constants/product';\nimport axios from 'axios'; // 这就是为什么要用async 函数 和thunk\n\nexport const getSpecificProductById = id => {\n  return async dispatch => {\n    //ajax req, await promise, awaitpromise的try-catch block\n    try {\n      //通知我们的store去该products的isLoading状态为true\n      dispatch({\n        type: constants.GET_PRODUCT_DETAIL_REQ\n      });\n      const response = await axios({\n        method: 'GET',\n        url: `/toBackendServer/to/product/${id}`\n      });\n      console.log('', response); //如果没跳错就是success, 传data到state\n\n      dispatch({\n        type: constants.GET_PRODUCT_DETAIL_SUCCESS,\n        data: data.data\n      });\n    } catch (err) {\n      dispatch({\n        type: constants.GET_PRODUCT_DETAIL_ERROR,\n        // check if the err obj has response and response.data.message\n        // if yes, send err message back, err is an object by default and can not be display directly to DOM\n        data: err.response && err.response.data.message ? err.response.data.message : err.message\n      });\n    }\n  };\n};\nexport const resetProductDetailState = () => {\n  return {\n    type: constants.GET_PRODUCT_DETAIL_RESET\n  };\n};","map":{"version":3,"sources":["/Users/liyehan/Desktop/MyProject/front_end/src/redux/actions/product.js"],"names":["constants","axios","getSpecificProductById","id","dispatch","type","GET_PRODUCT_DETAIL_REQ","response","method","url","console","log","GET_PRODUCT_DETAIL_SUCCESS","data","err","GET_PRODUCT_DETAIL_ERROR","message","resetProductDetailState","GET_PRODUCT_DETAIL_RESET"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,sBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,sBAAsB,GAAIC,EAAD,IAAM;AACxC,SAAO,MAAOC,QAAP,IAAkB;AACrB;AACA,QAAG;AACC;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEL,SAAS,CAACM;AADX,OAAD,CAAR;AAIA,YAAMC,QAAQ,GAAG,MAAMN,KAAK,CAAC;AACzBO,QAAAA,MAAM,EAAE,KADiB;AAEzBC,QAAAA,GAAG,EAAG,+BAA8BN,EAAG;AAFd,OAAD,CAA5B;AAKAO,MAAAA,OAAO,CAACC,GAAR,CAAY,EAAZ,EAAgBJ,QAAhB,EAXD,CAaC;;AACAH,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEL,SAAS,CAACY,0BADX;AAELC,QAAAA,IAAI,EAAEA,IAAI,CAACA;AAFN,OAAD,CAAR;AAIH,KAlBD,CAkBC,OAAMC,GAAN,EAAU;AACPV,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEL,SAAS,CAACe,wBADX;AAEL;AACA;AACAF,QAAAA,IAAI,EAAEC,GAAG,CAACP,QAAJ,IAAgBO,GAAG,CAACP,QAAJ,CAAaM,IAAb,CAAkBG,OAAlC,GAA4CF,GAAG,CAACP,QAAJ,CAAaM,IAAb,CAAkBG,OAA9D,GAAwEF,GAAG,CAACE;AAJ7E,OAAD,CAAR;AAMH;AACJ,GA5BD;AA6BH,CA9BM;AAgCP,OAAO,MAAMC,uBAAuB,GAAE,MAAI;AACtC,SAAM;AACFZ,IAAAA,IAAI,EAAEL,SAAS,CAACkB;AADd,GAAN;AAGH,CAJM","sourcesContent":["import * as constants from '../constants/product'\nimport axios from 'axios'\n\n// 这就是为什么要用async 函数 和thunk\nexport const getSpecificProductById = (id)=>{\n    return async (dispatch)=>{\n        //ajax req, await promise, awaitpromise的try-catch block\n        try{\n            //通知我们的store去该products的isLoading状态为true\n            dispatch({\n                type: constants.GET_PRODUCT_DETAIL_REQ\n            })\n\n            const response = await axios({\n                method: 'GET',\n                url: `/toBackendServer/to/product/${id}`\n            })\n\n            console.log('', response);\n\n            //如果没跳错就是success, 传data到state\n            dispatch({\n                type: constants.GET_PRODUCT_DETAIL_SUCCESS,\n                data: data.data\n            })\n        }catch(err){\n            dispatch({\n                type: constants.GET_PRODUCT_DETAIL_ERROR,\n                // check if the err obj has response and response.data.message\n                // if yes, send err message back, err is an object by default and can not be display directly to DOM\n                data: err.response && err.response.data.message ? err.response.data.message : err.message\n            })\n        }\n    }\n}\n\nexport const resetProductDetailState =()=>{\n    return{\n        type: constants.GET_PRODUCT_DETAIL_RESET\n    }\n}"]},"metadata":{},"sourceType":"module"}