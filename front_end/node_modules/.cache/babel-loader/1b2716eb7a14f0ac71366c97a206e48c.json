{"ast":null,"code":"import * as constants from '../constants/product';\nimport axios from 'axios'; // 这就是为什么要用async 函数 和thunk\n\nexport const getHotProducts = () => {\n  console.log('我进来了');\n  return async dispatch => {\n    //ajax req, await promise, awaitpromise的try-catch block\n    try {\n      //通知我们的store去该products的isLoading状态为true\n      dispatch({\n        type: constants.GET_PRODUCTS_REQ\n      });\n      console.log('开始req');\n      const response = await axios({\n        method: 'GET',\n        // http://localhost:3000 这个放在前面可以省略\n        url: '/toBackendServer/to/product'\n      });\n      console.log('结束req', response); //如果没跳错就是success, 传data到state\n\n      dispatch({\n        type: constants.GET_PRODUCTS_SUCCESS,\n        data: response.data\n      });\n    } catch (err) {\n      dispatch({\n        type: constants.GET_PRODUCTS_ERROR,\n        // check if the err obj has response and response.data.message\n        // if yes, send err message back, err is an object by default and can not be display directly to DOM\n        data: err.response && err.response.data.message ? err.response.data.message : err.message\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/Users/liyehan/Desktop/MyProject/front_end/src/redux/actions/products.js"],"names":["constants","axios","getHotProducts","console","log","dispatch","type","GET_PRODUCTS_REQ","response","method","url","GET_PRODUCTS_SUCCESS","data","err","GET_PRODUCTS_ERROR","message"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,sBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,cAAc,GAAG,MAAI;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAO,MAAOC,QAAP,IAAkB;AACrB;AACA,QAAG;AACC;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEN,SAAS,CAACO;AADX,OAAD,CAAR;AAGAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AAEA,YAAMI,QAAQ,GAAG,MAAMP,KAAK,CAAC;AACzBQ,QAAAA,MAAM,EAAE,KADiB;AAEzB;AACAC,QAAAA,GAAG,EAAE;AAHoB,OAAD,CAA5B;AAKAP,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBI,QAArB,EAZD,CAcC;;AACAH,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEN,SAAS,CAACW,oBADX;AAELC,QAAAA,IAAI,EAAEJ,QAAQ,CAACI;AAFV,OAAD,CAAR;AAIH,KAnBD,CAmBC,OAAMC,GAAN,EAAU;AACPR,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEN,SAAS,CAACc,kBADX;AAEL;AACA;AACAF,QAAAA,IAAI,EAAEC,GAAG,CAACL,QAAJ,IAAgBK,GAAG,CAACL,QAAJ,CAAaI,IAAb,CAAkBG,OAAlC,GAA4CF,GAAG,CAACL,QAAJ,CAAaI,IAAb,CAAkBG,OAA9D,GAAwEF,GAAG,CAACE;AAJ7E,OAAD,CAAR;AAMH;AACJ,GA7BD;AA8BH,CAhCM","sourcesContent":["import * as constants from '../constants/product'\nimport axios from 'axios'\n\n// 这就是为什么要用async 函数 和thunk\nexport const getHotProducts = ()=>{\n    console.log('我进来了');\n    return async (dispatch)=>{\n        //ajax req, await promise, awaitpromise的try-catch block\n        try{\n            //通知我们的store去该products的isLoading状态为true\n            dispatch({\n                type: constants.GET_PRODUCTS_REQ\n            })\n            console.log('开始req');\n\n            const response = await axios({\n                method: 'GET',\n                // http://localhost:3000 这个放在前面可以省略\n                url: '/toBackendServer/to/product'\n            })\n            console.log('结束req', response);\n\n            //如果没跳错就是success, 传data到state\n            dispatch({\n                type: constants.GET_PRODUCTS_SUCCESS,\n                data: response.data\n            })\n        }catch(err){\n            dispatch({\n                type: constants.GET_PRODUCTS_ERROR,\n                // check if the err obj has response and response.data.message\n                // if yes, send err message back, err is an object by default and can not be display directly to DOM\n                data: err.response && err.response.data.message ? err.response.data.message : err.message\n            })\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}