{"ast":null,"code":"import * as constants from '../constants/cart';\nimport axios from 'axios';\nexport const saveToCart = (id, quantity) => {\n  console.log(\"Save_toCart id: \", id); //await axios promise response\n  // 发request给后端来根据id请求当前产品的信息\n\n  return async dispatch => {\n    const response = await axios({\n      method: \"GET\",\n      url: `/toBackendServer/to/product/${id}`\n    });\n    const actionData = {\n      type: constants.SAVE_TO_CART,\n      data: {\n        id: response._id,\n        productName: response.productName,\n        description: response.description,\n        price: response.price,\n        numberInStock: response.numberInStock,\n        imgURL: response.imgURL,\n        // 这个quantity不是db里的, 是我们存在页面的\n        quantity\n      }\n    };\n    console.log(\"Save_toCart state: \", actionData); //store dispacth给reducers\n\n    dispatch(actionData);\n  };\n};\nexport const deleteFromCart = id => {\n  return {\n    type: constants.DELETE_FROM_CART,\n    data: id\n  };\n};\nexport const resteCart = () => {\n  return {\n    type: constants.RESET_CART\n  };\n};","map":{"version":3,"sources":["/Users/liyehan/Desktop/MyProject/front_end/src/redux/actions/cart.js"],"names":["constants","axios","saveToCart","id","quantity","console","log","dispatch","response","method","url","actionData","type","SAVE_TO_CART","data","_id","productName","description","price","numberInStock","imgURL","deleteFromCart","DELETE_FROM_CART","resteCart","RESET_CART"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,mBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,UAAU,GAAE,CAACC,EAAD,EAAKC,QAAL,KAAgB;AAErCC,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCH,EAAhC,EAFqC,CAIrC;AACA;;AACA,SAAO,MAAOI,QAAP,IAAoB;AAEvB,UAAMC,QAAQ,GAAG,MAAMP,KAAK,CAAC;AACzBQ,MAAAA,MAAM,EAAE,KADiB;AAEzBC,MAAAA,GAAG,EAAG,+BAA8BP,EAAG;AAFd,KAAD,CAA5B;AAKA,UAAMQ,UAAU,GAAG;AACfC,MAAAA,IAAI,EAAEZ,SAAS,CAACa,YADD;AAEfC,MAAAA,IAAI,EAAE;AACFX,QAAAA,EAAE,EAAEK,QAAQ,CAACO,GADX;AAEFC,QAAAA,WAAW,EAAER,QAAQ,CAACQ,WAFpB;AAGFC,QAAAA,WAAW,EAAET,QAAQ,CAACS,WAHpB;AAIFC,QAAAA,KAAK,EAAEV,QAAQ,CAACU,KAJd;AAKFC,QAAAA,aAAa,EAAEX,QAAQ,CAACW,aALtB;AAMFC,QAAAA,MAAM,EAAEZ,QAAQ,CAACY,MANf;AAOF;AACAhB,QAAAA;AARE;AAFS,KAAnB;AAcAC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCK,UAAnC,EArBuB,CAuBvB;;AACAJ,IAAAA,QAAQ,CAACI,UAAD,CAAR;AACH,GAzBD;AA2BH,CAjCM;AAmCP,OAAO,MAAMU,cAAc,GAAGlB,EAAD,IAAM;AAC/B,SAAM;AACFS,IAAAA,IAAI,EAAEZ,SAAS,CAACsB,gBADd;AAEFR,IAAAA,IAAI,EAAEX;AAFJ,GAAN;AAIH,CALM;AAOP,OAAO,MAAMoB,SAAS,GAAE,MAAI;AACxB,SAAM;AACFX,IAAAA,IAAI,EAAEZ,SAAS,CAACwB;AADd,GAAN;AAGH,CAJM","sourcesContent":["import * as constants from '../constants/cart'\nimport axios from 'axios'\n\nexport const saveToCart= (id, quantity)=>{\n\n    console.log(\"Save_toCart id: \", id);\n\n    //await axios promise response\n    // 发request给后端来根据id请求当前产品的信息\n    return async (dispatch) => {\n\n        const response = await axios({\n            method: \"GET\",\n            url: `/toBackendServer/to/product/${id}`\n        })\n\n        const actionData = {\n            type: constants.SAVE_TO_CART,\n            data: {\n                id: response._id,\n                productName: response.productName,\n                description: response.description,\n                price: response.price,\n                numberInStock: response.numberInStock,\n                imgURL: response.imgURL,\n                // 这个quantity不是db里的, 是我们存在页面的\n                quantity\n            }\n        }\n\n        console.log(\"Save_toCart state: \", actionData);\n\n        //store dispacth给reducers\n        dispatch(actionData)\n    }\n\n}\n\nexport const deleteFromCart= (id)=>{\n    return{\n        type: constants.DELETE_FROM_CART,\n        data: id\n    }\n}\n\nexport const resteCart= ()=>{\n    return{\n        type: constants.RESET_CART,\n    }\n}"]},"metadata":{},"sourceType":"module"}