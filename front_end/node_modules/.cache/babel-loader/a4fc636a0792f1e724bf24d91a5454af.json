{"ast":null,"code":"import * as constants from '../constants/product';\nimport axios from 'axios'; // 这就是为什么要用async 函数 和thunk\n\nexport const getHotProducts = () => {\n  return async dispatch => {\n    //ajax req, await promise, awaitpromise的try-catch block\n    try {\n      //通知我们的store去该products的isLoading状态为true\n      dispatch({\n        type: constants.GET_PRODUCTS_REQ\n      });\n      console.log('开始req');\n      const response = await axios({\n        method: 'GET',\n        // http://localhost:3000 这个放在前面可以省略\n        url: '/toBackendServer/to/product'\n      });\n      console.log('结束req', response); //如果没跳错就是success, 传data到state\n\n      dispatch({\n        type: constants.GET_PRODUCTS_SUCCESS,\n        data: [response.data]\n      });\n      console.log(\"GET_PRODUCTS_SUCCESS过去了\");\n    } catch (err) {\n      dispatch({\n        type: constants.GET_PRODUCTS_ERROR,\n        // check if the err obj has response and response.data.message\n        // if yes, send err message back, err is an object by default and can not be display directly to DOM\n        data: err.response && err.response.data.message ? err.response.data.message : err.message\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/Users/liyehan/Desktop/MyProject/front_end/src/redux/actions/products.js"],"names":["constants","axios","getHotProducts","dispatch","type","GET_PRODUCTS_REQ","console","log","response","method","url","GET_PRODUCTS_SUCCESS","data","err","GET_PRODUCTS_ERROR","message"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,sBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,cAAc,GAAG,MAAI;AAC9B,SAAO,MAAOC,QAAP,IAAkB;AACrB;AACA,QAAG;AACC;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEJ,SAAS,CAACK;AADX,OAAD,CAAR;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AAEA,YAAMC,QAAQ,GAAG,MAAMP,KAAK,CAAC;AACzBQ,QAAAA,MAAM,EAAE,KADiB;AAEzB;AACAC,QAAAA,GAAG,EAAE;AAHoB,OAAD,CAA5B;AAKAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,QAArB,EAZD,CAcC;;AACAL,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEJ,SAAS,CAACW,oBADX;AAELC,QAAAA,IAAI,EAAE,CAACJ,QAAQ,CAACI,IAAV;AAFD,OAAD,CAAR;AAKAN,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACH,KArBD,CAqBC,OAAMM,GAAN,EAAU;AACPV,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEJ,SAAS,CAACc,kBADX;AAEL;AACA;AACAF,QAAAA,IAAI,EAAEC,GAAG,CAACL,QAAJ,IAAgBK,GAAG,CAACL,QAAJ,CAAaI,IAAb,CAAkBG,OAAlC,GAA4CF,GAAG,CAACL,QAAJ,CAAaI,IAAb,CAAkBG,OAA9D,GAAwEF,GAAG,CAACE;AAJ7E,OAAD,CAAR;AAMH;AACJ,GA/BD;AAgCH,CAjCM","sourcesContent":["import * as constants from '../constants/product'\nimport axios from 'axios'\n\n// 这就是为什么要用async 函数 和thunk\nexport const getHotProducts = ()=>{\n    return async (dispatch)=>{\n        //ajax req, await promise, awaitpromise的try-catch block\n        try{\n            //通知我们的store去该products的isLoading状态为true\n            dispatch({\n                type: constants.GET_PRODUCTS_REQ\n            })\n            console.log('开始req');\n\n            const response = await axios({\n                method: 'GET',\n                // http://localhost:3000 这个放在前面可以省略\n                url: '/toBackendServer/to/product'\n            })\n            console.log('结束req', response);\n\n            //如果没跳错就是success, 传data到state\n            dispatch({\n                type: constants.GET_PRODUCTS_SUCCESS,\n                data: [response.data]\n            })\n            \n            console.log(\"GET_PRODUCTS_SUCCESS过去了\");\n        }catch(err){\n            dispatch({\n                type: constants.GET_PRODUCTS_ERROR,\n                // check if the err obj has response and response.data.message\n                // if yes, send err message back, err is an object by default and can not be display directly to DOM\n                data: err.response && err.response.data.message ? err.response.data.message : err.message\n            })\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}