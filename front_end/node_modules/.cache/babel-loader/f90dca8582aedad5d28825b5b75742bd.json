{"ast":null,"code":"import * as constants from '../constants/product';\nimport axios from 'axios'; // 这就是为什么要用async 函数 和thunk\n\nexport const getSpecificProductById = id => {\n  return async dispatch => {\n    //ajax req, await promise, awaitpromise的try-catch block\n    try {\n      //通知我们的store去该products的isLoading状态为true\n      dispatch({\n        type: constants.GET_PRODUCT_DETAIL_REQ\n      });\n      const data = await axios({\n        method: 'GET',\n        url: `/toBackendServer/to/product/${id}`\n      }); //如果没跳错就是success, 传data到state\n\n      dispatch({\n        type: constants.GET_PRODUCT_DETAIL_SUCCESS,\n        data\n      });\n    } catch (err) {\n      dispatch({\n        type: constants.GET_PRODUCT_DETAIL_ERROR,\n        // check if the err obj has response and response.data.message\n        // if yes, send err message back, err is an object by default and can not be display directly to DOM\n        data: err.response && err.response.data.message ? err.response.data.message : err.message\n      });\n    }\n  };\n};\nexport const resetProductDetailState = () => {\n  return {\n    type: constants.GET_PRODUCT_DETAIL_RESET\n  };\n};","map":{"version":3,"sources":["/Users/liyehan/Desktop/MyProject/front_end/src/redux/actions/product.js"],"names":["constants","axios","getSpecificProductById","id","dispatch","type","GET_PRODUCT_DETAIL_REQ","data","method","url","GET_PRODUCT_DETAIL_SUCCESS","err","GET_PRODUCT_DETAIL_ERROR","response","message","resetProductDetailState","GET_PRODUCT_DETAIL_RESET"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,sBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,sBAAsB,GAAIC,EAAD,IAAM;AACxC,SAAO,MAAOC,QAAP,IAAkB;AACrB;AACA,QAAG;AACC;AACAA,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEL,SAAS,CAACM;AADX,OAAD,CAAR;AAIA,YAAMC,IAAI,GAAG,MAAMN,KAAK,CAAC;AACrBO,QAAAA,MAAM,EAAE,KADa;AAErBC,QAAAA,GAAG,EAAG,+BAA8BN,EAAG;AAFlB,OAAD,CAAxB,CAND,CAaC;;AACAC,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEL,SAAS,CAACU,0BADX;AAELH,QAAAA;AAFK,OAAD,CAAR;AAIH,KAlBD,CAkBC,OAAMI,GAAN,EAAU;AACPP,MAAAA,QAAQ,CAAC;AACLC,QAAAA,IAAI,EAAEL,SAAS,CAACY,wBADX;AAEL;AACA;AACAL,QAAAA,IAAI,EAAEI,GAAG,CAACE,QAAJ,IAAgBF,GAAG,CAACE,QAAJ,CAAaN,IAAb,CAAkBO,OAAlC,GAA4CH,GAAG,CAACE,QAAJ,CAAaN,IAAb,CAAkBO,OAA9D,GAAwEH,GAAG,CAACG;AAJ7E,OAAD,CAAR;AAMH;AACJ,GA5BD;AA6BH,CA9BM;AAgCP,OAAO,MAAMC,uBAAuB,GAAE,MAAI;AACtC,SAAM;AACFV,IAAAA,IAAI,EAAEL,SAAS,CAACgB;AADd,GAAN;AAGH,CAJM","sourcesContent":["import * as constants from '../constants/product'\nimport axios from 'axios'\n\n// 这就是为什么要用async 函数 和thunk\nexport const getSpecificProductById = (id)=>{\n    return async (dispatch)=>{\n        //ajax req, await promise, awaitpromise的try-catch block\n        try{\n            //通知我们的store去该products的isLoading状态为true\n            dispatch({\n                type: constants.GET_PRODUCT_DETAIL_REQ\n            })\n\n            const data = await axios({\n                method: 'GET',\n                url: `/toBackendServer/to/product/${id}`\n            })\n\n\n            \n            //如果没跳错就是success, 传data到state\n            dispatch({\n                type: constants.GET_PRODUCT_DETAIL_SUCCESS,\n                data\n            })\n        }catch(err){\n            dispatch({\n                type: constants.GET_PRODUCT_DETAIL_ERROR,\n                // check if the err obj has response and response.data.message\n                // if yes, send err message back, err is an object by default and can not be display directly to DOM\n                data: err.response && err.response.data.message ? err.response.data.message : err.message\n            })\n        }\n    }\n}\n\nexport const resetProductDetailState =()=>{\n    return{\n        type: constants.GET_PRODUCT_DETAIL_RESET\n    }\n}"]},"metadata":{},"sourceType":"module"}